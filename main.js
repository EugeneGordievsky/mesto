(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o,i,u,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._cardSelector=e,this._name=n.name,this._link=n.link,this._likes=n.likes,this._cardId=n._id,this._myId=o,this._cardOwnerId=n.owner._id,this._handleCardClick=r,this._handleDelFunc=i,this._getLike=u,this._delLike=s}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.cloneNode(!0)}},{key:"_likeActiveToggle",value:function(){this._likeButton.classList.toggle("element__like-button_active")}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton=this._element.querySelector(".element__like-button"),this._deleteButton=this._element.querySelector(".element__delete-button"),this._card=this._element.querySelector(".element"),this._elementImage.addEventListener("click",this._handleCardClick),this._likeButton.addEventListener("click",(function(){e._likeButton.classList.contains("element__like-button_active")?e._delLike(e._cardId):e._getLike(e._cardId)})),this._cardOwnerId!==this._myId?this._deleteButton.remove():this._deleteButton.addEventListener("click",(function(){e._handleDelFunc(e._card,e._cardId)}))}},{key:"setLikesInfo",value:function(e){this._likes=e.likes,this._likeCounter.textContent=this._likes.length,this._likeActiveToggle()}},{key:"generateCard",value:function(){var e=this;return this._element=this._getTemplate(),this._elementImage=this._element.querySelector(".element__image"),this._likeCounter=this._element.querySelector(".element__like-counter"),this._setEventListeners(),this._likes.forEach((function(t){t._id===e._myId?e._likeButton.classList.add("element__like-button_active"):e._likeButton.classList.remove("element__like-button_active")})),this._elementImage.src=this._link,this._elementImage.alt=this._name,this._element.querySelector(".element__title").textContent=this._name,this._likeCounter.textContent=this._likes.length,this._element}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._validForm=n,this._errorClass=t.errorClass,this._inputErrorClass=t.inputErrorClass,this._inactiveButtonClass=t.inactiveButtonClass,this._submitButtonSelector=t.submitButtonSelector,this._inputSelector=t.inputSelector,this._inputList=Array.from(this._validForm.querySelectorAll(this._inputSelector)),this._button=this._validForm.querySelector(this._submitButtonSelector)}var t,r;return t=e,(r=[{key:"_getForm",value:function(){return this._validForm}},{key:"enableValidation",value:function(){this._element=this._getForm(),this._setEventListeners()}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e._toggleButtonState()}))})),this._element.addEventListener("submit",(function(t){t.preventDefault(),e._disableButton()}))}},{key:"clearError",value:function(){Array.from(this._element.querySelectorAll(".popup__input_error")).forEach((function(e){e.textContent=""})),this._inputList.forEach((function(e){e.classList.remove("popup__input_type_error")}))}},{key:"_disableButton",value:function(){this._button.classList.add(this._inactiveButtonClass),this._button.setAttribute("disabled","true")}},{key:"_inputShowError",value:function(e){var t=this._element.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}},{key:"_inputHideError",value:function(e){var t=this._element.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}},{key:"_isValid",value:function(e){e.validity.valid?this._inputHideError(e):this._inputShowError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableButton():(this._button.classList.remove(this._inactiveButtonClass),this._button.removeAttribute("disabled"))}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._handleEscClose=this._handleEscClose.bind(this),this._button=this._popup.querySelector(".popup__save-button")}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&(e.preventDefault(),this.close())}},{key:"_handleOverlayClose",value:function(e){e.target.classList.contains("popup")&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__close-button").addEventListener("click",(function(){return e.close()})),this._popup.addEventListener("click",(function(t){return e._handleOverlayClose(t)}))}}])&&o(t.prototype,n),e}();function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(r);if(o){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._callbackFunc=t,n}return t=u,(n=[{key:"open",value:function(e,t){c(f(u.prototype),"open",this).call(this),this._card=e,this._cardId=t}},{key:"setEventListeners",value:function(){var e=this;c(f(u.prototype),"setEventListeners",this).call(this),this._button.addEventListener("click",(function(){e._callbackFunc(e._card,e._cardId,e._button)}))}}])&&s(t.prototype,n),u}(i);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function u(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,e))._popupImageSrc=t,r._popupImageTitle=n,r}return t=u,(n=[{key:"open",value:function(e){d(m(u.prototype),"open",this).call(this),this._popupImageSrc.src=e.link,this._popupImageSrc.alt=e.name,this._popupImageTitle.textContent=e.name}},{key:"close",value:function(){d(m(u.prototype),"close",this).call(this),this._popupImageTitle.textContent="",this._popupImageSrc.src=""}}])&&_(t.prototype,n),u}(i);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._submitFunc=t,n._form=e.querySelector(".popup__form"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popup.querySelectorAll(".popup__input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;S(w(u.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",(function(t){t.preventDefault(),e._submitFunc(e._getInputValues(),e._button),e._form.reset()}))}},{key:"close",value:function(){S(w(u.prototype),"close",this).call(this),this._form.reset()}}])&&g(t.prototype,n),u}(i);function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._job=n,this._avatar=r}var t,n;return t=e,(n=[{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._job.textContent=e.about,this._id=e._id}},{key:"setAvatar",value:function(e){this._avatar.src=e.avatar}},{key:"getUserInfo",value:function(){return{userName:this._name.textContent,userJob:this._job.textContent,userId:this._id}}}])&&O(t.prototype,n),e}();function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._options=t}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Произошла ошибка: ".concat(e.status,":").concat(e.statusText))}},{key:"getUserInfo",value:function(){var e=this;return fetch(this._options.baseUrl+"/users/me",{headers:this._options.headers}).then((function(t){return e._checkResponse(t)}))}},{key:"setUserInfo",value:function(e){var t=this;return fetch(this._options.baseUrl+"/users/me",{method:"PATCH",headers:this._options.headers,body:JSON.stringify({name:e.name,about:e.job})}).then((function(e){return t._checkResponse(e)}))}},{key:"setAvatar",value:function(e){var t=this;return fetch(this._options.baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._options.headers,body:JSON.stringify({avatar:e.link})}).then((function(e){return t._checkResponse(e)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch(this._options.baseUrl+"/cards",{headers:this._options.headers}).then((function(t){return e._checkResponse(t)}))}},{key:"addNewCard",value:function(e){var t=this;return fetch(this._options.baseUrl+"/cards",{method:"POST",headers:this._options.headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t._checkResponse(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch(this._options.baseUrl+"/cards/"+e,{method:"DELETE",headers:this._options.headers}).then((function(e){return t._checkResponse(e)}))}},{key:"getLikeFunc",value:function(e){var t=this;return fetch(this._options.baseUrl+"/cards/likes/"+e,{method:"PUT",headers:this._options.headers}).then((function(e){return t._checkResponse(e)}))}},{key:"deleteLikeFunc",value:function(e){var t=this;return fetch(this._options.baseUrl+"/cards/likes/"+e,{method:"DELETE",headers:this._options.headers}).then((function(e){return t._checkResponse(e)}))}},{key:"isLoading",value:function(e,t){t?(this._buttonText=e.textContent,e.textContent="Сохранение..."):e.textContent=this._buttonText}}])&&j(t.prototype,n),e}();function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}}])&&R(t.prototype,n),e}(),T=document.querySelector(".profile__avatar-button"),x=document.querySelector(".profile__edit-button"),B=document.querySelector(".add-button"),U=(document.querySelector(".popup__close-button_image"),document.querySelector(".popup__edit-avatar")),A=document.querySelector(".popup_edit"),D=document.querySelector(".popup_add-card"),F=document.querySelector(".popup_full-image"),V=document.querySelector(".popup_delete-card"),N=A.querySelector(".popup__form"),J=D.querySelector(".popup__form"),H=U.querySelector(".popup__form"),z=document.querySelector(".popup__input_name"),M=document.querySelector(".popup__input_job"),G=document.querySelector(".profile__name"),K=document.querySelector(".profile__job"),Q=document.querySelector(".profile__avatar"),W=(document.querySelector(".popup__input_title"),document.querySelector(".popup__input_src"),document.querySelector(".popup__card-image")),X=document.querySelector(".popup__card-title"),Y=document.querySelector(".elements"),Z={inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input_error_active"},$=new q({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-17",headers:{authorization:"761b2eed-9b1d-4590-81a1-cb393f952eaa","Content-Type":"application/json"}}),ee=function(e){var n=new t("#card",e,(function(){return ie.open(e)}),oe.getUserInfo().userId,(function(e,t){ue.open(e,t)}),(function(e){$.getLikeFunc(e).then((function(e){n.setLikesInfo(e)})).catch((function(e){return console.log(e)}))}),(function(e){$.deleteLikeFunc(e).then((function(e){n.setLikesInfo(e)})).catch((function(e){return console.log(e)}))}));return n.generateCard()},te=new r(Z,N),ne=new r(Z,J),re=new r(Z,H),oe=new I(G,K,Q),ie=new b(F,W,X),ue=new p(V,(function(e,t,n){$.isLoading(n,!0),$.deleteCard(t).then((function(){e.remove(),ue.close(),$.isLoading(n)})).catch((function(e){return console.log(e)}))})),se=new C(A,(function(e,t){$.isLoading(t,!0),$.setUserInfo(e).then((function(e){oe.setUserInfo(e),se.close(),$.isLoading(t)})).catch((function(e){return console.log(e)}))})),ce=new C(U,(function(e,t){$.isLoading(t,!0),$.setAvatar(e).then((function(e){oe.setAvatar(e),ce.close(),$.isLoading(t)})).catch((function(e){return console.log(e)}))})),ae=new C(D,(function(e,t){$.isLoading(t,!0),$.addNewCard(e).then((function(e){Y.prepend(ee(e)),ae.close(),$.isLoading(t)})).catch((function(e){return console.log(e)}))}));ie.setEventListeners(),se.setEventListeners(),ae.setEventListeners(),ce.setEventListeners(),ue.setEventListeners(),te.enableValidation(),ne.enableValidation(),re.enableValidation(),x.addEventListener("click",(function(){var e=oe.getUserInfo();z.value=e.userName,M.value=e.userJob,te.clearError(),se.open()})),B.addEventListener("click",(function(){ne.clearError(),ae.open()})),T.addEventListener("click",(function(){re.clearError(),ce.open()})),$.getInitialCards().then((function(e){var t=new P({items:e,renderer:function(e){return t.addItem(ee(e))}},".elements");t.renderItems()})).catch((function(e){return console.log(e)})),$.getUserInfo().then((function(e){oe.setUserInfo(e),oe.setAvatar(e)})).catch((function(e){return console.log(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJkYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwibXlJZCIsImhhbmRsZURlbEZ1bmMiLCJnZXRMaWtlIiwiZGVsTGlrZSIsInRoaXMiLCJfY2FyZFNlbGVjdG9yIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfY2FyZElkIiwiX2lkIiwiX215SWQiLCJfY2FyZE93bmVySWQiLCJvd25lciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsRnVuYyIsIl9nZXRMaWtlIiwiX2RlbExpa2UiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2xpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfZWxlbWVudCIsIl9kZWxldGVCdXR0b24iLCJfY2FyZCIsIl9lbGVtZW50SW1hZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwiY29udGFpbnMiLCJyZW1vdmUiLCJfbGlrZUNvdW50ZXIiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsIl9saWtlQWN0aXZlVG9nZ2xlIiwiX2dldFRlbXBsYXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiZm9yRWFjaCIsIml0ZW0iLCJhZGQiLCJzcmMiLCJhbHQiLCJGb3JtVmFsaWRhdG9yIiwiYWxsQ2xhc3NlcyIsInZhbGlkRm9ybSIsIl92YWxpZEZvcm0iLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9idXR0b24iLCJfZ2V0Rm9ybSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0IiwiX2lzVmFsaWQiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9kaXNhYmxlQnV0dG9uIiwiZXJyb3IiLCJzZXRBdHRyaWJ1dGUiLCJpbnB1dEVycm9yVGV4dCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2lucHV0SGlkZUVycm9yIiwiX2lucHV0U2hvd0Vycm9yIiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJQb3B1cCIsInBvcHVwIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsIl9oYW5kbGVPdmVybGF5Q2xvc2UiLCJQb3B1cFdpdGhEZWxldGUiLCJjYWxsYmFja0Z1bmMiLCJfY2FsbGJhY2tGdW5jIiwiY2FyZCIsImNhcmRJZCIsIlBvcHVwV2l0aEltYWdlIiwicG9wdXBJbWFnZVNyYyIsInBvcHVwSW1hZ2VUaXRsZSIsIl9wb3B1cEltYWdlU3JjIiwiX3BvcHVwSW1hZ2VUaXRsZSIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGdW5jIiwiX3N1Ym1pdEZ1bmMiLCJfZm9ybSIsIl9mb3JtVmFsdWVzIiwidmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwiam9iIiwiYXZhdGFyIiwiX2pvYiIsIl9hdmF0YXIiLCJpbmZvIiwiYWJvdXQiLCJ1c2VyTmFtZSIsInVzZXJKb2IiLCJ1c2VySWQiLCJBcGkiLCJvcHRpb25zIiwiX29wdGlvbnMiLCJyZXN1bHQiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImZldGNoIiwiYmFzZVVybCIsImhlYWRlcnMiLCJ0aGVuIiwicmVzIiwiX2NoZWNrUmVzcG9uc2UiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImJ1dHRvbiIsImlzTG9hZCIsIl9idXR0b25UZXh0IiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwiYXBwZW5kIiwiYXZhdGFyQnV0dG9uIiwiZWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsInBvcHVwRWRpdEF2YXRhciIsInBvcHVwRWRpdCIsInBvcHVwQWRkIiwicG9wdXBGdWxsSW1hZ2UiLCJwb3B1cERlbGV0ZUNhcmQiLCJwb3B1cEVkaXRGb3JtIiwicG9wdXBBZGRGb3JtIiwicG9wdXBBdmF0YXJGb3JtIiwicG9wdXBFbnRlck5hbWUiLCJwb3B1cEVudGVySm9iIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlSm9iIiwicHJvZmlsZUF2YXRhciIsImZ1bGxJbWFnZVNyYyIsImZ1bGxJbWFnZVRpdGxlIiwiZWxlbWVudHMiLCJmb3JtQ2xhc3NlcyIsImFwaSIsImF1dGhvcml6YXRpb24iLCJjcmVhdGVOZXdDYXJkIiwiaW1hZ2VQb3B1cCIsIm9wZW4iLCJ1c2VySW5mbyIsImdldFVzZXJJbmZvIiwiZGVsZXRlQ2FyZFBvcHVwIiwiZ2V0TGlrZUZ1bmMiLCJzZXRMaWtlc0luZm8iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZGVsZXRlTGlrZUZ1bmMiLCJnZW5lcmF0ZUNhcmQiLCJ2YWxpZEVkaXRGb3JtIiwidmFsaWRBZGRGb3JtIiwidmFsaWRBdmF0YXJGb3JtIiwiY2FyZEVsZW1lbnQiLCJpc0xvYWRpbmciLCJkZWxldGVDYXJkIiwiZWRpdFBvcHVwIiwic2V0VXNlckluZm8iLCJhdmF0YXJQb3B1cCIsInNldEF2YXRhciIsImFkZENhcmRQb3B1cCIsImFkZE5ld0NhcmQiLCJzZXRFdmVudExpc3RlbmVycyIsImVuYWJsZVZhbGlkYXRpb24iLCJ1c2VyIiwiY2xlYXJFcnJvciIsImdldEluaXRpYWxDYXJkcyIsImluaXRDYXJkIiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIl0sIm1hcHBpbmdzIjoiNkxBQXFCQSxFLFdBQ25CLFdBQVlDLEVBQWNDLEVBQU1DLEVBQWlCQyxFQUFNQyxFQUFlQyxFQUFTQyxJLDRGQUFTLFNBQ3RGQyxLQUFLQyxjQUFnQlIsRUFDckJPLEtBQUtFLE1BQVFSLEVBQUtTLEtBQ2xCSCxLQUFLSSxNQUFRVixFQUFLVyxLQUNsQkwsS0FBS00sT0FBU1osRUFBS2EsTUFDbkJQLEtBQUtRLFFBQVVkLEVBQUtlLElBQ3BCVCxLQUFLVSxNQUFRZCxFQUNiSSxLQUFLVyxhQUFlakIsRUFBS2tCLE1BQU1ILElBQy9CVCxLQUFLYSxpQkFBbUJsQixFQUN4QkssS0FBS2MsZUFBaUJqQixFQUN0QkcsS0FBS2UsU0FBV2pCLEVBQ2hCRSxLQUFLZ0IsU0FBV2pCLEUsNERBS2hCLE9BRGdCa0IsU0FBU0MsY0FBY2xCLEtBQUtDLGVBQWVrQixRQUFRQyxXQUFVLEssMENB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QVd3QixvQkFDWE4sR0FBVU0sb0JBQ1ZGLEdBQWFFLG9CQUNiSixHQUFZSSxvQkFDWnBCLEdBQWdCb0Isb0JBRWhCWixHQUFjYSxtQkFDZFosR0FBYVksbUJBQ2JYLEdBQWdCVyxtQkFFaEIvQyxFQUFXM0gsaUJBQWlCLFNBQVMsV0FDbkMsSUFBTTJLLEVBQU94QixHQUFTQyxjQUN0QmYsUUFBdUJzQyxFQUFLcEYsU0FDNUIrQyxRQUFzQnFDLEVBQUtuRixRQUMzQnFFLEdBQWNlLGFBQ2RULEdBQVVqQixVQUdadEIsRUFBVTVILGlCQUFpQixTQUFTLFdBQ2xDOEosR0FBYWMsYUFDYkwsR0FBYXJCLFVBR2Z4QixFQUFhMUgsaUJBQWlCLFNBQVMsV0FDckMrSixHQUFnQmEsYUFDaEJQLEdBQVluQixVQUdkSixFQUFJK0Isa0JBQ0h0RSxNQUFLLFNBQUNDLEdBQ0wsSUFBTXNFLEVBQVcsSUFBSTdELEVBQVEsQ0FDM0JFLE1BQU9YLEVBQ1BZLFNBQVUsU0FBQzFHLEdBQUQsT0FBVW9LLEVBQVNDLFFBQVEvQixHQUFjdEksTUFDbkQsYUFDRm9LLEVBQVNFLGlCQU5YLE9BUU8sU0FBQ3hCLEdBQUQsT0FBU0MsUUFBUUMsSUFBSUYsTUFFNUJWLEVBQUlNLGNBQ0g3QyxNQUFLLFNBQUNDLEdBQ0wyQyxHQUFTaUIsWUFBWTVELEdBQ3JCMkMsR0FBU21CLFVBQVU5RCxNQUhyQixPQUtPLFNBQUNnRCxHQUFELE9BQVNDLFFBQVFDLElBQUlGLE8iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihjYXJkU2VsZWN0b3IsIGRhdGEsIGhhbmRsZUNhcmRDbGljaywgbXlJZCwgaGFuZGxlRGVsRnVuYywgZ2V0TGlrZSwgZGVsTGlrZSkge1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX215SWQgPSBteUlkO1xuICAgIHRoaXMuX2NhcmRPd25lcklkID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbEZ1bmMgPSBoYW5kbGVEZWxGdW5jO1xuICAgIHRoaXMuX2dldExpa2UgPSBnZXRMaWtlO1xuICAgIHRoaXMuX2RlbExpa2UgPSBkZWxMaWtlO1xuICB9O1xuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBuZXdDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBuZXdDYXJkO1xuICB9O1xuXG4gIF9saWtlQWN0aXZlVG9nZ2xlKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19kZWxldGUtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2NhcmQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKTtcblxuXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDYXJkQ2xpY2spO1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKSkge1xuICAgICAgICB0aGlzLl9kZWxMaWtlKHRoaXMuX2NhcmRJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9nZXRMaWtlKHRoaXMuX2NhcmRJZCk7XG4gICAgICB9XG5cbiAgICB9KTtcbiAgICBpZih0aGlzLl9jYXJkT3duZXJJZCAhPT0gdGhpcy5fbXlJZCkge1xuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLnJlbW92ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsRnVuYyh0aGlzLl9jYXJkLCB0aGlzLl9jYXJkSWQpXG4gICAgICB9KVxuICAgIH1cbiAgfTtcblxuICBzZXRMaWtlc0luZm8oZGF0YSkge1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICB0aGlzLl9saWtlQWN0aXZlVG9nZ2xlKCk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fZWxlbWVudEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2xpa2VDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtY291bnRlclwiKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fbGlrZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKGl0ZW0uX2lkID09PSB0aGlzLl9teUlkKSB7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5fZWxlbWVudEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fZWxlbWVudEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGFsbENsYXNzZXMsIHZhbGlkRm9ybSkge1xuICAgIHRoaXMuX3ZhbGlkRm9ybSA9IHZhbGlkRm9ybTtcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gYWxsQ2xhc3Nlcy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGFsbENsYXNzZXMuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBhbGxDbGFzc2VzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBhbGxDbGFzc2VzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBhbGxDbGFzc2VzLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl92YWxpZEZvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XG4gICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fdmFsaWRGb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9O1xuXG4gIF9nZXRGb3JtKCkge1xuICAgIGNvbnN0IGZvcm0gPSB0aGlzLl92YWxpZEZvcm07XG4gICAgcmV0dXJuIGZvcm07XG4gIH07XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0Rm9ybSgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9pc1ZhbGlkKGlucHV0KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgICB9KTtcbiAgfTtcblxuICBjbGVhckVycm9yKCkge1xuICAgIGNvbnN0IGVycm9ycyA9IEFycmF5LmZyb20odGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dF9lcnJvclwiKSk7XG4gICAgZXJyb3JzLmZvckVhY2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgIGVycm9yLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICB9KTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChmdW5jdGlvbihpbnB1dCkge1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIpO1xuICAgIH0pO1xuICB9O1xuXG4gIF9kaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XG4gIH07XG5cbiAgX2lucHV0U2hvd0Vycm9yKGlucHV0KSB7XG4gICAgY29uc3QgaW5wdXRFcnJvclRleHQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBpbnB1dEVycm9yVGV4dC50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGlucHV0RXJyb3JUZXh0LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgX2lucHV0SGlkZUVycm9yKGlucHV0KSB7XG4gICAgY29uc3QgaW5wdXRFcnJvclRleHQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBpbnB1dEVycm9yVGV4dC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgaW5wdXRFcnJvclRleHQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfTtcblxuICBfaXNWYWxpZChpbnB1dCkge1xuICAgIGlmICghaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX2lucHV0U2hvd0Vycm9yKGlucHV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faW5wdXRIaWRlRXJyb3IoaW5wdXQpO1xuICAgIH07XG4gIH07XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgfTtcbiAgfTtcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yIChwb3B1cCkge1xuICAgIHRoaXMuX3BvcHVwID0gcG9wdXA7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3NhdmUtYnV0dG9uXCIpO1xuICB9O1xuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9O1xuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfTtcblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH07XG4gIH07XG5cbiAgX2hhbmRsZU92ZXJsYXlDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH07XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ1dHRvblwiKTtcbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4gdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlKGV2dCkpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cCwgY2FsbGJhY2tGdW5jKSB7XG4gICAgc3VwZXIocG9wdXApO1xuICAgIHRoaXMuX2NhbGxiYWNrRnVuYyA9IGNhbGxiYWNrRnVuYztcbiAgfVxuXG4gIG9wZW4oY2FyZCwgY2FyZElkKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xuICAgIHRoaXMuX2NhcmRJZCA9IGNhcmRJZDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9jYWxsYmFja0Z1bmModGhpcy5fY2FyZCwgdGhpcy5fY2FyZElkLCB0aGlzLl9idXR0b24pXG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXAsIHBvcHVwSW1hZ2VTcmMsIHBvcHVwSW1hZ2VUaXRsZSkge1xuICAgIHN1cGVyKHBvcHVwKTtcbiAgICB0aGlzLl9wb3B1cEltYWdlU3JjID0gcG9wdXBJbWFnZVNyYztcbiAgICB0aGlzLl9wb3B1cEltYWdlVGl0bGUgPSBwb3B1cEltYWdlVGl0bGU7XG4gIH07XG5cbiAgb3BlbihkYXRhKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2VTcmMuc3JjID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2VTcmMuYWx0ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2VUaXRsZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgfTtcblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2VUaXRsZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgdGhpcy5fcG9wdXBJbWFnZVNyYy5zcmMgPSBcIlwiO1xuICB9O1xufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwLCBzdWJtaXRGdW5jKSB7XG4gICAgc3VwZXIocG9wdXApO1xuICAgIHRoaXMuX3N1Ym1pdEZ1bmMgPSBzdWJtaXRGdW5jO1xuICAgIHRoaXMuX2Zvcm0gPSBwb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICB9O1xuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG5cbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCggKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRGdW5jKHRoaXMuX2dldElucHV0VmFsdWVzKCksIHRoaXMuX2J1dHRvbik7XG4gICAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGpvYiwgYXZhdGFyKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fam9iID0gam9iO1xuICAgIHRoaXMuX2F2YXRhciA9IGF2YXRhcjtcbiAgfTtcblxuICBzZXRVc2VySW5mbyhpbmZvKSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGluZm8ubmFtZTtcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBpbmZvLmFib3V0O1xuICAgIHRoaXMuX2lkID0gaW5mby5faWQ7XG4gIH07XG5cbiAgc2V0QXZhdGFyKGluZm8pIHtcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gaW5mby5hdmF0YXI7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgIHVzZXJOYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxuICAgIHVzZXJKb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudCxcbiAgICB1c2VySWQ6IHRoaXMuX2lkXG4gICAgfTtcbiAgfTtcbn1cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzdWx0KSB7XG4gICAgaWYgKHJlc3VsdC5vaykge1xuICAgICAgcmV0dXJuIHJlc3VsdC5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsDogJHtyZXN1bHQuc3RhdHVzfToke3Jlc3VsdC5zdGF0dXNUZXh0fWApXG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fb3B0aW9ucy5iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xuICAgICAgaGVhZGVyczogdGhpcy5fb3B0aW9ucy5oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpXG4gIH07XG5cbiAgc2V0VXNlckluZm8oaXRlbSkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9vcHRpb25zLmJhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICBhYm91dDogaXRlbS5qb2JcbiAgICAgIH0pXG4gICAgfSlcbiAgICAudGhlbigocmVzKSA9PiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcykpXG4gIH07XG5cbiAgc2V0QXZhdGFyKGl0ZW0pIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fb3B0aW9ucy5iYXNlVXJsICsgXCIvdXNlcnMvbWUvYXZhdGFyXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5fb3B0aW9ucy5oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGl0ZW0ubGlua1xuICAgICAgfSlcbiAgICB9KVxuICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSlcbiAgfTtcblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX29wdGlvbnMuYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVyc1xuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKVxuICB9O1xuXG4gIGFkZE5ld0NhcmQoaW5mbykge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9vcHRpb25zLmJhc2VVcmwgKyBcIi9jYXJkc1wiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5fb3B0aW9ucy5oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBpbmZvLm5hbWUsXG4gICAgICAgIGxpbms6IGluZm8ubGlua1xuICAgICAgfSlcbiAgICB9KVxuICAgIC50aGVuKChyZXMpID0+IHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKSlcbiAgfTtcblxuICBkZWxldGVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX29wdGlvbnMuYmFzZVVybCArIFwiL2NhcmRzL1wiICsgaWQsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVyc1xuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKVxuICB9O1xuXG4gIGdldExpa2VGdW5jKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX29wdGlvbnMuYmFzZVVybCArIFwiL2NhcmRzL2xpa2VzL1wiICsgaWQsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVyc1xuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKVxuICB9O1xuXG4gIGRlbGV0ZUxpa2VGdW5jKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX29wdGlvbnMuYmFzZVVybCArIFwiL2NhcmRzL2xpa2VzL1wiICsgaWQsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVyc1xuICAgIH0pXG4gICAgLnRoZW4oKHJlcykgPT4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpKVxuICB9O1xuXG4gIGlzTG9hZGluZyhidXR0b24sIGlzTG9hZCkge1xuICAgIGlmKGlzTG9hZCkge1xuICAgICAgdGhpcy5fYnV0dG9uVGV4dCA9IGJ1dHRvbi50ZXh0Q29udGVudDtcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fYnV0dG9uVGV4dDtcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3RvciAoe2l0ZW1zLCByZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9O1xuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcbiAgfTtcblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xuICB9O1xufVxuIiwiZXhwb3J0IHtlZGl0QnV0dG9uLCBwb3B1cEVkaXQsIHBvcHVwQWRkLCBwb3B1cEZ1bGxJbWFnZSwgYWRkQnV0dG9uLCBjbG9zZUltYWdlQnV0dG9uLCBlbGVtZW50cyxcbnBvcHVwRW50ZXJOYW1lLCBwb3B1cEVudGVySm9iLCBwb3B1cEVkaXRGb3JtLCBwb3B1cEFkZEZvcm0sIHByb2ZpbGVKb2IsIHByb2ZpbGVOYW1lLCBwcm9maWxlQXZhdGFyLCBpbnB1dFNyYywgaW5wdXRUaXRsZSxcbmZ1bGxJbWFnZVNyYywgZnVsbEltYWdlVGl0bGUsIGZvcm1DbGFzc2VzLCBwb3B1cEVkaXRBdmF0YXIsIGF2YXRhckJ1dHRvbiwgcG9wdXBBdmF0YXJGb3JtLCBwb3B1cERlbGV0ZUNhcmR9O1xuXG5jb25zdCBhdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1idXR0b25cIik7XG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLWJ1dHRvblwiKTtcbmNvbnN0IGNsb3NlSW1hZ2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idXR0b25faW1hZ2VcIik7XG5cbmNvbnN0IHBvcHVwRWRpdEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2VkaXQtYXZhdGFyXCIpO1xuY29uc3QgcG9wdXBFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9lZGl0XCIpO1xuY29uc3QgcG9wdXBBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2FkZC1jYXJkXCIpO1xuY29uc3QgcG9wdXBGdWxsSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2Z1bGwtaW1hZ2VcIik7XG5jb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2RlbGV0ZS1jYXJkXCIpO1xuXG5jb25zdCBwb3B1cEVkaXRGb3JtID0gcG9wdXBFZGl0LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG5jb25zdCBwb3B1cEFkZEZvcm0gPSBwb3B1cEFkZC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuY29uc3QgcG9wdXBBdmF0YXJGb3JtID0gcG9wdXBFZGl0QXZhdGFyLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG5cbmNvbnN0IHBvcHVwRW50ZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfbmFtZVwiKTtcbmNvbnN0IHBvcHVwRW50ZXJKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF9qb2JcIik7XG5cbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xuY29uc3QgcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fam9iXCIpO1xuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xuXG5jb25zdCBpbnB1dFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdGl0bGVcIik7XG5jb25zdCBpbnB1dFNyYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3NyY1wiKTtcblxuY29uc3QgZnVsbEltYWdlU3JjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FyZC1pbWFnZVwiKTtcbmNvbnN0IGZ1bGxJbWFnZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FyZC10aXRsZVwiKTtcblxuY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzXCIpO1xuXG5jb25zdCBmb3JtQ2xhc3NlcyA9IHtcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc2F2ZS1idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc2F2ZS1idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X2Vycm9yX2FjdGl2ZVwiXG59O1xuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRGVsZXRlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBlZGl0QnV0dG9uLCBwb3B1cEVkaXQsIHBvcHVwQWRkLCBwb3B1cEZ1bGxJbWFnZSwgYWRkQnV0dG9uLCBwb3B1cEVkaXRGb3JtLCBwb3B1cEFkZEZvcm0sXG5wcm9maWxlTmFtZSwgcHJvZmlsZUpvYiwgZm9ybUNsYXNzZXMsIGZ1bGxJbWFnZVNyYywgZnVsbEltYWdlVGl0bGUsIGF2YXRhckJ1dHRvbiwgcG9wdXBEZWxldGVDYXJkLFxucG9wdXBFbnRlckpvYiwgcG9wdXBFbnRlck5hbWUsIHByb2ZpbGVBdmF0YXIsIHBvcHVwRWRpdEF2YXRhciwgcG9wdXBBdmF0YXJGb3JtLCBlbGVtZW50c30gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTE3XCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjc2MWIyZWVkLTliMWQtNDU5MC04MWExLWNiMzkzZjk1MmVhYVwiLFxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgfVxufSk7XG5cbmNvbnN0IGNyZWF0ZU5ld0NhcmQgPSAoaXRlbSkgPT4ge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXCIjY2FyZFwiLFxuICBpdGVtLFxuICAoKSA9PiBpbWFnZVBvcHVwLm9wZW4oaXRlbSksXG4gIHVzZXJJbmZvLmdldFVzZXJJbmZvKCkudXNlcklkLFxuICAoY2FyZCwgY2FyZElkKSA9PiB7XG4gICAgZGVsZXRlQ2FyZFBvcHVwLm9wZW4oY2FyZCwgY2FyZElkKTtcbiAgfSxcbiAgKGlkKSA9PiB7XG4gICAgYXBpLmdldExpa2VGdW5jKGlkKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGNhcmQuc2V0TGlrZXNJbmZvKHJlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gIH0sXG4gIChpZCkgPT4ge1xuICAgIGFwaS5kZWxldGVMaWtlRnVuYyhpZClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjYXJkLnNldExpa2VzSW5mbyhyZXMpXG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7O1xuICB9KTtcbiAgY29uc3QgbmV3Q2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICByZXR1cm4gbmV3Q2FyZEVsZW1lbnQ7XG59O1xuXG5jb25zdCB2YWxpZEVkaXRGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNsYXNzZXMsIHBvcHVwRWRpdEZvcm0pO1xuY29uc3QgdmFsaWRBZGRGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNsYXNzZXMsIHBvcHVwQWRkRm9ybSk7XG5jb25zdCB2YWxpZEF2YXRhckZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ2xhc3NlcywgcG9wdXBBdmF0YXJGb3JtKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8ocHJvZmlsZU5hbWUsIHByb2ZpbGVKb2IsIHByb2ZpbGVBdmF0YXIpO1xuXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwRnVsbEltYWdlLCBmdWxsSW1hZ2VTcmMsIGZ1bGxJbWFnZVRpdGxlKTtcbmNvbnN0IGRlbGV0ZUNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhEZWxldGUocG9wdXBEZWxldGVDYXJkLFxuICAoY2FyZEVsZW1lbnQsIGNhcmRJZCwgYnV0dG9uKSA9PiB7XG4gIGFwaS5pc0xvYWRpbmcoYnV0dG9uLCB0cnVlKTtcbiAgYXBpLmRlbGV0ZUNhcmQoY2FyZElkKVxuICAudGhlbigoKSA9PiB7XG4gICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgZGVsZXRlQ2FyZFBvcHVwLmNsb3NlKCk7XG4gICAgYXBpLmlzTG9hZGluZyhidXR0b24pO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG59KTtcbmNvbnN0IGVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwRWRpdCwgKGl0ZW0sIGJ1dHRvbikgPT4ge1xuICBhcGkuaXNMb2FkaW5nKGJ1dHRvbiwgdHJ1ZSk7XG4gIGFwaS5zZXRVc2VySW5mbyhpdGVtKVxuICAudGhlbigocmVzKSA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKTtcbiAgICBlZGl0UG9wdXAuY2xvc2UoKTtcbiAgICBhcGkuaXNMb2FkaW5nKGJ1dHRvbik7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbn0pO1xuY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEVkaXRBdmF0YXIsIChpdGVtLCBidXR0b24pID0+IHtcbiAgYXBpLmlzTG9hZGluZyhidXR0b24sIHRydWUpO1xuICBhcGkuc2V0QXZhdGFyKGl0ZW0pXG4gIC50aGVuKChyZXMpID0+IHtcbiAgICB1c2VySW5mby5zZXRBdmF0YXIocmVzKTtcbiAgICBhdmF0YXJQb3B1cC5jbG9zZSgpO1xuICAgIGFwaS5pc0xvYWRpbmcoYnV0dG9uKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xufSk7XG5cbmNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwQWRkLCAoaXRlbSwgYnV0dG9uKSA9PiB7XG4gIGFwaS5pc0xvYWRpbmcoYnV0dG9uLCB0cnVlKTtcbiAgYXBpLmFkZE5ld0NhcmQoaXRlbSlcbiAgLnRoZW4oKHJlcykgPT4ge1xuICAgIGVsZW1lbnRzLnByZXBlbmQoY3JlYXRlTmV3Q2FyZChyZXMpKTtcbiAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcbiAgICBhcGkuaXNMb2FkaW5nKGJ1dHRvbik7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbn0pO1xuXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5lZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuYXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmRlbGV0ZUNhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG52YWxpZEVkaXRGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcbnZhbGlkQWRkRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG52YWxpZEF2YXRhckZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IHVzZXIgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwb3B1cEVudGVyTmFtZS52YWx1ZSA9IHVzZXIudXNlck5hbWU7XG4gIHBvcHVwRW50ZXJKb2IudmFsdWUgPSB1c2VyLnVzZXJKb2I7XG4gIHZhbGlkRWRpdEZvcm0uY2xlYXJFcnJvcigpO1xuICBlZGl0UG9wdXAub3BlbigpO1xufSk7XG5cbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICB2YWxpZEFkZEZvcm0uY2xlYXJFcnJvcigpO1xuICBhZGRDYXJkUG9wdXAub3BlbigpO1xufSk7XG5cbmF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICB2YWxpZEF2YXRhckZvcm0uY2xlYXJFcnJvcigpO1xuICBhdmF0YXJQb3B1cC5vcGVuKCk7XG59KVxuXG5hcGkuZ2V0SW5pdGlhbENhcmRzKClcbi50aGVuKChyZXMpID0+IHtcbiAgY29uc3QgaW5pdENhcmQgPSBuZXcgU2VjdGlvbih7XG4gICAgaXRlbXM6IHJlcyxcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IGluaXRDYXJkLmFkZEl0ZW0oY3JlYXRlTmV3Q2FyZChpdGVtKSl9LFxuICAgIFwiLmVsZW1lbnRzXCIpO1xuICBpbml0Q2FyZC5yZW5kZXJJdGVtcygpO1xufSlcbi5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxuYXBpLmdldFVzZXJJbmZvKClcbi50aGVuKChyZXMpID0+IHtcbiAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKTtcbiAgdXNlckluZm8uc2V0QXZhdGFyKHJlcyk7XG59KVxuLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==